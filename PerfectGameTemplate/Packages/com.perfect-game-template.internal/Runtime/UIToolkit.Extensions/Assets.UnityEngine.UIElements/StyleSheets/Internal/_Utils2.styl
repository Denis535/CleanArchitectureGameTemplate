// // create-view
// create-font(url, size, style)
//     return @block {
//         add-font(url, size, style)
//     }
// create-text(align, outline, shadow)
//     return @block {
//         add-text(align, outline, shadow)
//     }

// // create-view
// create-view(color, background-color, background-image, border-color, border-radius)
//     return @block {
//         add-view(color, background-color, background-image, border-color, border-radius)
//     }

// // create-layout
// create-layout(position, width, height, margin, border, padding)
//     return @block {
//         add-layout(position, width, height, margin, border, padding)
//     }

// // create-flex
// create-flex(flex-grow, flex-shrink, flex-basis, align-self)
//     return @block {
//         add-flex(flex-grow, flex-shrink, flex-basis, align-self)
//     }
// create-flex2(flex-direction, justify-content, align-items)
//     return @block {
//         add-flex2(flex-direction, justify-content, align-items)
//     }

// // add-style
// add-style(key, objects...)
//     key = get-value(get-key('selector', key))
//     key = replace('(\s+)', ' ', key)
//     {key}
//         for object in objects
//             {object}
//         {block}

// // add-skin
// add-view-skin(key)
//     if key != null and key != none
//         for object in get-value(get-key('view', key))
//             {object}
// add-layout-skin(key)
//     if key != null and key != none
//         for object in get-value(get-key('layout', key))
//             {object}
// add-flex-skin(key)
//     if key != null and key != none
//         for object in get-value(get-key('flex', key))
//             {object}

// style
style(selector)
    flush()
    define('context--selector', selector, true)
    define('context--styles',   (),       true)
// style
property(name, value)
    push(context--styles, @block {
        add-property(name, value)
    })
// style
font(url, size, style)
    push(context--styles, @block {
        add-font(url, size, style)
    })
text(align, outline, shadow)
    push(context--styles, @block {
        add-text(align, outline, shadow)
    })
// style
view(color, background-color, background-image, border-color, border-radius)
    push(context--styles, @block {
        add-view(color, background-color, background-image, border-color, border-radius)
    })
// style
layout(position, width, height, margin, border, padding)
    push(context--styles, @block {
        add-layout(position, width, height, margin, border, padding)
    })
// style
flex(flex-grow, flex-shrink, flex-basis, align-self)
    push(context--styles, @block {
        add-flex(flex-grow, flex-shrink, flex-basis, align-self)
    })
flex2(flex-direction, justify-content, align-items)
    push(context--styles, @block {
        add-flex2(flex-direction, justify-content, align-items)
    })
// style
flush()
    if context--selector is defined and context--selector != null
        selector = replace('(\s+)', ' ', get-value(get-key('selector', context--selector)))
        styles   = context--styles
        {selector}
            for style in styles
                {style}
    define('context--selector', null, true)
    define('context--styles',   null, true)
